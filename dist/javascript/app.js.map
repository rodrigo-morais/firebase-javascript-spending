{"version":3,"sources":["javascript/app.js"],"names":[],"mappings":"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","file":"javascript/app.js","sourcesContent":["ï»¿import config from 'javascript/config';\r\n\r\nlet spending = new Firebase(config.url),\r\n    today = moment().format('YYYY-MM-DD'),\r\n    totalDay = 0,\r\n    months = [];\r\n\r\n$('#send').on('click',(event) => {\r\n    event.preventDefault();\r\n\r\n    let form = $('#spending');\r\n\r\n    spending.push({\r\n        date: form.find('#dateSpending').val(),\r\n        item: form.find('#item').val(),\r\n        value: form.find('#value').val()\r\n    });\r\n\r\n    form[0].reset();\r\n});\r\n\r\n$('document').ready(() => {\r\n    $(\"#daily\").mCustomScrollbar();\r\n    $(\"#monthly\").mCustomScrollbar();\r\n});\r\n\r\nlet addDailySpent = (spent) => {\r\n    let daily = $('#daily').find('ul'),\r\n        li = '<li>';\r\n\r\n    li = li + '<span class=\"label\">Date:</span><span class=\"value\">' + spent.date + '</span>';\r\n    li = li + '<span class=\"label\">Item:</span><span class=\"value\">' + spent.item + '</span>';\r\n    li = li + '<span class=\"label\">Value:</span><span class=\"value\"> $' + parseFloat(spent.value).toFixed(2) + '</span>';\r\n    li = li + '</li>';\r\n\r\n    daily.append(li);\r\n};\r\n\r\nlet sumTotal = (value) => {\r\n    totalDay = totalDay + parseFloat(value);\r\n    $('.total').find('span').text('$' + totalDay.toFixed(2));\r\n};\r\n\r\nlet addValueToMonth = (spendings) => {\r\n    for(let key in spendings){\r\n        let spent = spendings[key],\r\n            year = new Date(spent.date).getFullYear(),\r\n            numMonth = new Date(spent.date).getMonth() + 1,\r\n            month = months.filter((_month) => {\r\n                return _month.year === year && _month.month === numMonth;\r\n            });\r\n\r\n        if(month.length > 0){\r\n            month[0].value = month[0].value + parseFloat(spent.value);\r\n        }\r\n        else{\r\n            month = {\r\n                year: year,\r\n                month: numMonth,\r\n                monthName: moment(new Date(spent.date)).format('MMMM'),\r\n                days: new Date(year, numMonth, 0).getDate(),\r\n                value: parseFloat(spent.value)\r\n            };\r\n\r\n            months.push(month);\r\n        }\r\n    }\r\n};\r\n\r\nlet showMonths = () => {\r\n    let total = 0,\r\n        numMonths = months.length,\r\n        average = 0,\r\n        monthsUl = $('.months');\r\n\r\n    monthsUl.empty();\r\n\r\n    months.sort(function(first, second){\r\n        if(first.year > second.year){\r\n            return -1;\r\n        }\r\n\r\n        if(first.year < second.year){\r\n            return 1;\r\n        }\r\n\r\n        if(first.year === second.year){\r\n            if(first.month > second.month){\r\n                return -1;\r\n            }\r\n            else if(first.month < second.month){\r\n                return 1;\r\n            }\r\n            else {\r\n                return 0;\r\n            }\r\n        }\r\n    }).forEach(function(_month){\r\n        let li = '<li>';\r\n\r\n        li = li + '<span class=\"label\">Period:</span><span class=\"value\">' + _month.monthName + ' / ' + _month.year + '</span>';\r\n        li = li + '<span class=\"label\">Total:</span><span class=\"value\"> $' + _month.value.toFixed(2) + '</span>';\r\n        li = li + '<span class=\"label\">Average:</span><span class=\"value\"> $' + (_month.value / _month.days).toFixed(2) + '</span>';\r\n        li = li + '</li>';\r\n\r\n        monthsUl.append(li);\r\n\r\n        total = total + _month.value;\r\n    });\r\n\r\n    average = total / numMonths;\r\n\r\n    $('.per-month').find('.total').find('#total').text(total.toFixed(2));\r\n    $('.per-month').find('.total').find('#average').text(average.toFixed(2));\r\n}\r\n\r\nspending.orderByChild(\"date\").equalTo(today).on(\"child_added\", (snapshot) => {\r\n    let spent = snapshot.val();\r\n\r\n    addDailySpent(spent);\r\n    sumTotal(spent.value);\r\n    \r\n},\r\n(errorObject) => {\r\n    console.log(\"The read failed: \" + errorObject.code);\r\n});\r\n\r\nspending.orderByChild(\"date\").on(\"value\", (snapshot) => {\r\n    let spendings = snapshot.val();\r\n\r\n    addValueToMonth(spendings);\r\n    showMonths();\r\n},\r\n(errorObject) => {\r\n    console.log(\"The read failed: \" + errorObject.code);\r\n});"]}