{"version":3,"sources":["javascript/app.js"],"names":[],"mappings":"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","file":"javascript/app.js","sourcesContent":["ï»¿import config from 'javascript/config';\r\n\r\nlet spending = new Firebase(config.url),\r\n    today = moment().format('YYYY-MM-DD'),\r\n    totalDay = 0,\r\n    months = [];\r\n\r\n$('#send').on('click',(event) => {\r\n    event.preventDefault();\r\n\r\n    let form = $('#spending');\r\n\r\n    spending.push({\r\n        date: form.find('#dateSpending').val(),\r\n        item: form.find('#item').val(),\r\n        value: form.find('#value').val()\r\n    });\r\n\r\n    form[0].reset();\r\n});\r\n\r\n$('document').ready(() => {\r\n    $(\"#daily\").mCustomScrollbar();\r\n});\r\n\r\nlet addDailySpent = (spent) => {\r\n    let daily = $('#daily').find('ul'),\r\n        li = '<li>';\r\n\r\n    li = li + '<span class=\"label\">Date:</span><span class=\"value\">' + spent.date + '</span>';\r\n    li = li + '<span class=\"label\">Item:</span><span class=\"value\">' + spent.item + '</span>';\r\n    li = li + '<span class=\"label\">Value:</span><span class=\"value\"> $' + parseFloat(spent.value).toFixed(2) + '</span>';\r\n    li = li + '</li>';\r\n\r\n    daily.append(li);\r\n};\r\n\r\nlet sumTotal = (value) => {\r\n    totalDay = totalDay + parseFloat(value);\r\n    $('.total').find('span').text('$' + totalDay.toFixed(2));\r\n};\r\n\r\nlet addValueToMonth = (spent) => {\r\n    let year = new Date(spent.date).getFullYear(),\r\n        numbMonth = new Date(spent.date).getMonth() + 1,\r\n        month = months.filter((_month) => {\r\n            return _month.year === year && _month.month === numbMonth;\r\n        });\r\n\r\n    if(month.length > 0){\r\n        month[0].value = month[0].value + parseFloat(spent.value);\r\n    }\r\n    else{\r\n        month = {\r\n            year: year,\r\n            month: numbMonth,\r\n            monthName: moment(new Date(spent.date)).format('MMMM'),\r\n            value: parseFloat(spent.value)\r\n        };\r\n\r\n        months.push(month);\r\n    }\r\n\r\n};\r\n\r\nspending.orderByChild(\"date\").equalTo(today).on(\"child_added\", (snapshot) => {\r\n    let spent = snapshot.val();\r\n\r\n    addDailySpent(spent);\r\n    sumTotal(spent.value);\r\n    \r\n},\r\n(errorObject) => {\r\n    console.log(\"The read failed: \" + errorObject.code);\r\n});\r\n\r\nspending.orderByChild(\"date\").on(\"child_added\", (snapshot) => {\r\n    let spent = snapshot.val();\r\n\r\n    addValueToMonth(spent);\r\n},\r\n(errorObject) => {\r\n    console.log(\"The read failed: \" + errorObject.code);\r\n});"]}